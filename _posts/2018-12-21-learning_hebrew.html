---
title: Learning Hebrew
layout: default 
---

<html>
<head>
      <!--Load the AJAX API-->
    <script type="text/javascript" src="{{site.url}}/javascripts/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        ///////////////////////////////////////////////////
        moreh = {};

        // Letters
        moreh.alephbet  = 'א,ב,ג,ד,ה,ו,ז,ח,ט,י,כ,ל,מ,נ,ס,ע,פ,צ,ק,ר,ש,ת'.split(',');
        moreh.a_first   = 'א,בּ,גּ,דּ,ה,ו,ז,ח,ט,י,כּ,ל,מ,נ,ס,ע,פּ,צ,ק,ר,ש,תּ'.split(',');
        moreh.a_final   = 'א,ב,ג,ד,ה,ו,ז,ח,ט,י,ך,ל,ם,ן,ס,ע,ף,ץ,ק,ר,ש,ת'.split(',');
        moreh.a_name    = ['Aleph', 'Bet'  , 'Gimel', 'Dalet', 'Hey' , 'Vav', 'Zayin' , 'Chet',
                           'Tet'  , 'Yod'  , 'Kaf'  , 'Lamed', 'Mem' , 'Nun', 'Samech', 'Ayin',
                           'Peh'  , 'Tsadi', 'Kof'  , 'Resh' , 'Shin', 'Tav'];
        moreh.a_english = '›,b,g,d,h,v,z,h,t,y,k,l,m,n,s,‹,p,s,q,r,s,t'.split(',');

        ///////////////////////////////////////////////////

        // Vowels
        moreh.vowels     = 'ב,בַ,בֶ,בִ,בֻ,בָ,בֵ,בֵי,בִי,בוֿ,בוּ'.split(',');
        moreh.v_names    = ['Patah', 'Seghol', 'Hiriq Qatan', 'Qubbus', 'Qamats',
                            'Sereh', 'Sereh' , 'Hiriq Gadol', 'Holam' , 'Shuruq'];
        moreh.v_translit = 'a,e,i,u,a,e,e,i,o,o,u'.split(',');
        moreh.v_word     = ('card', 'pen' , 'sit'   , 'pull', 'card',
                            'prey', 'prey', 'marine', 'lore', 'lore', 'flute');

        moreh.quiz = [];
        moreh.quiz.push({'title'      : 'Hebrew Letter Names',
                         'description': 'Select the name for this character:',
                         'q'          : moreh.alephbet,
                         'a'          : moreh.a_name});

        moreh.quiz.push({'title'      : 'Hebrew Letter Transliteration',
                         'description': 'Select the English transliteration for this character:',
                         'q'          : moreh.alephbet,
                         'a'          : moreh.a_english});

        ///////////////////////////////////////////////////

        // Return a shuffled copy of an array
        shuffle = function(array) {
          var currentIndex = array.length, temporaryValue, randomIndex;
          var out = array.map(s => s)

          // While there remain elements to shuffle...
          while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = out[currentIndex];
            out[currentIndex] = out[randomIndex];
            out[randomIndex] = temporaryValue;
          }

          return out;
        };

        // Setup the next question
        moreh.next = function() {
            // get a question off the sorted list
            var q = moreh.q.pop();
            $('div.question').text(q); // new question
            
            var a = moreh.active.a.map(s => s);
            var i = moreh.idx = moreh.active.q.indexOf(q);
            moreh.a = a.splice(i,1); // correct answer
            var a = shuffle(a); // randomize answers
            var a = a.splice(0,3); // 3 wrong answers
            a.push(moreh.a); // add correct answer
            var a = shuffle(a); // randomize order
            
            var o = $('div.answer');
            o.removeClass('correct wrong ignore'); // clear results
            o.addClass('guess'); // for :hover formatting
            for (var i = 0; i < o.length; i++) {
                o.slice(i).text(a[i]); // possible answer
            }
        };
        
        // Check if this quiz is done
        moreh.level = 0;
        // negative feedback loop parameters
        // new = (old + .increment (if correct)) * .scale
        moreh.scale = 0.7
        moreh.increment = 1.0
        moreh.mastered  = 2.0
        moreh.set_quiz = function() {
            if (moreh.q ? !moreh.q.length : 1) {
                console.log('set_quiz', moreh.weights);
                // TODO; check if all questions have been mastered
                moreh.active = moreh.quiz[moreh.level];
                moreh.q = shuffle(moreh.active.q);
            }
            if (!moreh.weights) { // New level
                $('#q_set').text(moreh.active.title);
                $('#q_description').text(moreh.active.description);
                moreh.wrong = 0; 
                moreh.progress = [];
                moreh.weights = [];
                for (var i = 0; i < moreh.active.q.length; i++) {
                    moreh.progress.push('□');
                    moreh.weights.push(1);
                }
            }
            $('#progress').text(moreh.progress.join(''));
            // Set up for next question
            moreh.next();
        }
            
        // Check if the answer is correct
        moreh.answer = function(pick) {
            var o = $('div.answer');            
            o.removeClass('guess'); // disable :hover
            for (var i = 0; i < o.length; i++) {
                var a = o.slice(i,i+1);
                var s = a.text();
                if (s == moreh.a) {
                    // negative feedback loop parameters
                    // new = (old + .increment (if correct)) * .scale
                    var w = moreh.weights[moreh.idx];
                    if (s == pick.text()) { // user was correct
                        w += moreh.increment;
                    }
                    w = Math.max(0.01, w*moreh.scale);
                    moreh.weights[moreh.idx] = w;
                    // Check if question has been mastered
                    if (w > moreh.mastered) {
                        moreh.progress[moreh.idx] = '■';
                    }
                    
                    a.addClass('correct');
                } else if (s == pick.text()) {
                    moreh.wrong++;
                    a.addClass('wrong');
                } else {
                    a.addClass('ignore');
                }
            }

            timeoutID = window.setTimeout(moreh.set_quiz, 1500);
        };

        ///////////////////////////////////////////////////

        window.onload = function(){
            // Images loaded, hide text
            $('.placeholder').css('display','none');

            $('.answer').click(function(){ moreh.answer($(this)); });

            // Set up question set
            moreh.set_quiz();
        };

    </script>
    <style>

        div#quiz div { padding: 10px 10px 15px 30px; }
        
        p#q_description { margin: 0px; }

        div.question { font-size: xx-large; }
        
        div.progress_wrapper {
            border: 2px solid #444444;
            border-radius: 20px;
            padding: 4px !important; 
            height: 2em;
            margin-bottom: 20px;
        }
        table.progress_table td {
            text-align: center;
            border: 0px;
        }
        td#progress { color:#006600; }
        

        div.answer.guess:hover {
            color: #ffcc00;
            background-color: #191919;
            border-radius: 20px;
        }

        div.wrong {
            background-color: #660000;
            border-radius: 20px;
        }
        div.correct {
            background-color: #006600;
            border-radius: 20px;
        }
        .ignore { color:#444444; }

    </style>
</head>
<body>
    <p id="updated">Updated: 20 December 2018</p>

    <h2 id="q_set">Question Set</h2>
    <p id="q_description">Description</p>
    <div id="quiz">
        <div class="question">Q</div>
        <div class="progress_wrapper">
            <table class="progress_table"><tr>
                <td id="q_prev" class="ignore">Prev</td>
                <td id="progress"></td>
                <td id="q_next" class="ignore">Next</td>
            </tr></table>
        </div>
        <div class="answer">A</div>
        <div class="answer">B</div>
        <div class="answer">C</div>
        <div class="answer">D</div>
    </div>
    <br>
</body>
</html>
